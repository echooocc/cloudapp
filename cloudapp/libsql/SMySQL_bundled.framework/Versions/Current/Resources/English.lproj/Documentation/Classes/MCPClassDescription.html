<HTML><HEAD><TITLE></TITLE></HEAD>
<BODY BGCOLOR="#FFFFFF">


<BR><BR><FONT COLOR="#000066"><H1><A NAME="//apple_ref/occ/cl/MCPClassDescription">MCPClassDescription</A></H1></FONT><BR>



	<blockquote><DL><DT><B>Inherits From:</B></DT>  
	<DD>NSObject</DD>
</DL></blockquote>





	<blockquote><DL><DT><B>Declared In:</B></DT>
	<DD>MCPClassDescription.h</DD>
	</DL></blockquote>

<BR><BR>


<H2>Class Description</H2>
<CODE> $Id: MCPConnection.m,v 1.4 2004/05/14 11:16:04 sergecohen Exp $ </CODE> 
<CODE> $Author: $ </CODE><P>

This Class is used in conjunction with MCPObject to get a object/relational layer on top 
of SMySQL. The class description is responsible for handling all the mapping information: 
like which table correspond to which class, and within a class which attribute correspond 
to which column.<P>

It is important to realise that an object of the class MCPClassDescription will instantiated for 
each CLASS (and not object) of <B>super</B> class MCPObject.<P>

More details now : This class will handle the following informations: 
-# The Class name. -className- 
-# The Table name. -externalName- 
-# An array of all the attributes (object of class MCPAttribute). -attributes- 
-# An array of attributes (MCPAttribute) defining the identity of the row/object. -identityAttributes- (just the name of the attributes) 
-# An array of attributes (MCPAttribute) defining the primary key of the row/object. -primaryKeyAttributes- (just the name of the attributes) 
-# A flag, telling if the primary key is a single auto-generated integer. Generated from the gathered information. 
-# Finally an array of RelationShips (to other objects) NOT IMPLEMENTERD YET! -relationships-<P>

All this information is saved in a plist in the bundle of the MCPObject subclass. This plist is parsed at runtime 
and used to generate the MCPClassDescription for each subclass of MCPObject.<P>

Note that the flag for autogenerated integer primary key is inferred at runtime from the information 
of the primary key and autogenerated information.

















	<P><HR WIDTH=50% ALIGN=LEFT>
	<H2>Instance Variables</H2>
	<blockquote>
	
		<CODE>NSString *<B>className</B>;</CODE><BR>
		<CODE>NSString *<B>externalName</B>;</CODE><BR>
		<CODE>NSArray *<B>attributes</B>;</CODE><BR>
		<CODE>NSArray *<B>relationships</B>;</CODE><BR>
		<CODE>NSArray *<B>primaryKeyAttributes</B>;</CODE><BR>
		<CODE>NSArray *<B>identityAttributes</B>;</CODE><BR>
		<CODE>BOOL <B>singleAutoGenKey</B>;</CODE><BR>
	<P><TABLE>
	
		<TR><TD>className</TD><TD>No description.</TD></TR>
	
		<TR><TD>externalName</TD><TD>No description.</TD></TR>
	
		<TR><TD>attributes</TD><TD>No description.</TD></TR>
	
		<TR><TD>relationships</TD><TD>No description.</TD></TR>
	
		<TR><TD>primaryKeyAttributes</TD><TD>No description.</TD></TR>
	
		<TR><TD>identityAttributes</TD><TD>No description.</TD></TR>
	
		<TR><TD>singleAutoGenKey</TD><TD>No description.</TD></TR>
	
	</TABLE>
	</blockquote>




	<P><HR WIDTH=50% ALIGN=LEFT>
	<H2>Method Types</H2>
	<blockquote>
	
		
			Initing the MCPDescription class :
		
		<DL><DT></DT>
		
			<DD> <A HREF="#- initForClass:">- initForClass:</A></DD>
		
			<DD> <A HREF="#- dealloc">- dealloc</A></DD>
		
		</DL>
	
		
			Overriding the necessary function from NSClassDescription.
		
		<DL><DT></DT>
		
			<DD> <A HREF="#- attributeKeys">- attributeKeys</A></DD>
		
			<DD> <A HREF="#- inverseRelationshipKey:">- inverseRelationshipKey:</A></DD>
		
			<DD> <A HREF="#- toManyRelationshipKeys">- toManyRelationshipKeys</A></DD>
		
			<DD> <A HREF="#- toOneRelationshipKeys">- toOneRelationshipKeys</A></DD>
		
		</DL>
	
		
			Specifics to MCPClassDescription :
		
		<DL><DT></DT>
		
			<DD> <A HREF="#- attributes">- attributes</A></DD>
		
			<DD> <A HREF="#- primaryKeyAttributes">- primaryKeyAttributes</A></DD>
		
			<DD> <A HREF="#- identityAttributes">- identityAttributes</A></DD>
		
			<DD> <A HREF="#- identityAttributes">- identityAttributes</A></DD>
		
			<DD> <A HREF="#- className">- className</A></DD>
		
			<DD> <A HREF="#- externalName">- externalName</A></DD>
		
			<DD> <A HREF="#- attributeWithName:">- attributeWithName:</A></DD>
		
			<DD> <A HREF="#- singleAutoGenKey">- singleAutoGenKey</A></DD>
		
		</DL>
	
		
			Output for logging... :
		
		<DL><DT></DT>
		
			<DD> <A HREF="#- description">- description</A></DD>
		
		</DL>
	
	</blockquote>




 

	<HR WIDTH=50% ALIGN=LEFT>
	<H2>Instance Methods</H2>
 
	
		
		<A NAME="- attributeKeys"></A><H3><A NAME="//apple_ref/occ/instm/MCPClassDescription/attributeKeys">attributeKeys</A></H3><P>
		<CODE>- (NSArray *)<B>attributeKeys</B>
		</CODE><P>
		No method description.
	
		<P><HR WIDTH=25% ALIGN=LEFT>
		<A NAME="- attributeWithName:"></A><H3><A NAME="//apple_ref/occ/instm/MCPClassDescription/attributeWithName:">attributeWithName:</A></H3><P>
		<CODE>- (MCPAttribute *)<B>attributeWithName:</B>(NSString *)<EM>iName</EM>
			
		</CODE><P>
		Return the MCPAttribute description of the attribute, given the attribute name (object side, not externalName). If no attributes are named <I>iName</I>, it will return <B>nil</B>.
	
		<P><HR WIDTH=25% ALIGN=LEFT>
		<A NAME="- attributes"></A><H3><A NAME="//apple_ref/occ/instm/MCPClassDescription/attributes">attributes</A></H3><P>
		<CODE>- (NSArray *)<B>attributes</B>
		</CODE><P>
		Returns the array of MCPAttribute for the class (not only attribute names).
	
		<P><HR WIDTH=25% ALIGN=LEFT>
		<A NAME="- className"></A><H3><A NAME="//apple_ref/occ/instm/MCPClassDescription/className">className</A></H3><P>
		<CODE>- (NSString *)<B>className</B>
		</CODE><P>
		Returns the name of the class it describe.
	
		<P><HR WIDTH=25% ALIGN=LEFT>
		<A NAME="- dealloc"></A><H3><A NAME="//apple_ref/occ/instm/MCPClassDescription/dealloc">dealloc</A></H3><P>
		<CODE>- (void)<B>dealloc</B>
		</CODE><P>
		release the instance variable of the description.
	
		<P><HR WIDTH=25% ALIGN=LEFT>
		<A NAME="- description"></A><H3><A NAME="//apple_ref/occ/instm/MCPClassDescription/description">description</A></H3><P>
		<CODE>- (NSString *)<B>description</B>
		</CODE><P>
		Used for logging and debugging
	
		<P><HR WIDTH=25% ALIGN=LEFT>
		<A NAME="- externalName"></A><H3><A NAME="//apple_ref/occ/instm/MCPClassDescription/externalName">externalName</A></H3><P>
		<CODE>- (NSString *)<B>externalName</B>
		</CODE><P>
		Return the name of the table used to store the information of the object.
	
		<P><HR WIDTH=25% ALIGN=LEFT>
		<A NAME="- identityAttributes"></A><H3><A NAME="//apple_ref/occ/instm/MCPClassDescription/identityAttributes">identityAttributes</A></H3><P>
		<CODE>- (NSArray *)<B>identityAttributes</B>
		</CODE><P>
		No method description.
	
		<P><HR WIDTH=25% ALIGN=LEFT>
		<A NAME="- identityAttributes"></A><H3><A NAME="//apple_ref/occ/instm/MCPClassDescription/identityAttributes">identityAttributes</A></H3><P>
		<CODE>- (NSArray *)<B>identityAttributes</B>
		</CODE><P>
		Returns an array of MCPAttributes that should be used to check for 'identity' between two objects. 
Typically these can be used to check if a given entry is already in the DB and then avoid inserting it again.
	
		<P><HR WIDTH=25% ALIGN=LEFT>
		<A NAME="- initForClass:"></A><H3><A NAME="//apple_ref/occ/instm/MCPClassDescription/initForClass:">initForClass:</A></H3><P>
		<CODE>- (id)<B>initForClass:</B>(Class)<EM>aClass</EM>
			
		</CODE><P>
		Generate a class description for the class <I>aClass</I>.<P>

It will use the bundle of the class to try to find a plist named : className.plist in the resource. 
This plist should contains the information required by the MCPClassDescription... see class description.
	
		<P><HR WIDTH=25% ALIGN=LEFT>
		<A NAME="- inverseRelationshipKey:"></A><H3><A NAME="//apple_ref/occ/instm/MCPClassDescription/inverseRelationshipKey:">inverseRelationshipKey:</A></H3><P>
		<CODE>- (NSString *)<B>inverseRelationshipKey:</B>(NSString *)<EM>relationshipKey</EM>
			
		</CODE><P>
		No method description.
	
		<P><HR WIDTH=25% ALIGN=LEFT>
		<A NAME="- primaryKeyAttributes"></A><H3><A NAME="//apple_ref/occ/instm/MCPClassDescription/primaryKeyAttributes">primaryKeyAttributes</A></H3><P>
		<CODE>- (NSArray *)<B>primaryKeyAttributes</B>
		</CODE><P>
		Returns an array containing the attribute(s) name constituting the primary key (NSArray of MCPAttributes).
	
		<P><HR WIDTH=25% ALIGN=LEFT>
		<A NAME="- singleAutoGenKey"></A><H3><A NAME="//apple_ref/occ/instm/MCPClassDescription/singleAutoGenKey">singleAutoGenKey</A></H3><P>
		<CODE>- (BOOL)<B>singleAutoGenKey</B>
		</CODE><P>
		No method description.
	
		<P><HR WIDTH=25% ALIGN=LEFT>
		<A NAME="- toManyRelationshipKeys"></A><H3><A NAME="//apple_ref/occ/instm/MCPClassDescription/toManyRelationshipKeys">toManyRelationshipKeys</A></H3><P>
		<CODE>- (NSArray *)<B>toManyRelationshipKeys</B>
		</CODE><P>
		See the NSClassDescription reference for details on this message.
	
		<P><HR WIDTH=25% ALIGN=LEFT>
		<A NAME="- toOneRelationshipKeys"></A><H3><A NAME="//apple_ref/occ/instm/MCPClassDescription/toOneRelationshipKeys">toOneRelationshipKeys</A></H3><P>
		<CODE>- (NSArray *)<B>toOneRelationshipKeys</B>
		</CODE><P>
		See the NSClassDescription reference for details on this message.
	




<P><HR>
Version 1.4 Copyright &copy;2004 by Serge Cohen.  All Rights Reserved.   Mon Aug 09 11:00:28 2004
<P>
</BODY></HTML>
